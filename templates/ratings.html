{% extends "base.html" %}
{% block content %}
<div class="page">
  <header class="app-header">
    <div class="header-inner">
      <h2><i class="fas fa-star"></i> Ratings</h2>
      <div>
        <a class="btn" href="{{ url_for('dashboardrunner') if user.user_type == 'runner' else url_for('home_page') }}">
          Back
        </a>
      </div>
    </div>
  </header>

  <main class="container">
    {% if ratings and ratings|length > 0 %}
      <div class="ratings-list">
        {% for r in ratings %}
          <div class="rating-card">
            <div class="rating-header">
              <div class="stars">
                {% for i in range(1,6) %}
                  {% if i <= r.rating %}
                    <i class="fas fa-star" style="color:#f59e0b"></i>
                  {% else %}
                    <i class="far fa-star" style="color:#f59e0b"></i>
                  {% endif %}
                {% endfor %}
              </div>
              <span class="rating-value">{{ "%.1f"|format(r.rating) }}</span>
            </div>
            <div class="rating-body">
              <p class="comment">{{ r.comment or "No comment provided." }}</p>
              <div class="meta">
                <span>From: {{ (r.from_user_id) }}</span>
                <span>On: {{ r.created_at.strftime("%Y-%m-%d %H:%M") if r.created_at else "Unknown" }}</span>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="empty-state">
        <i class="fas fa-star-half-alt"></i>
        <h3>No ratings yet</h3>
        <p>Complete errands to receive ratings from clients.</p>
      </div>
    {% endif %}
  </main>
</div>

<style>
.app-header { background:#fff; border-bottom:1px solid #eee; padding:16px; }
.header-inner { display:flex; justify-content:space-between; align-items:center; }
.ratings-list { display:grid; gap:12px; }
.rating-card { background:#fff; border:1px solid #eee; border-radius:10px; padding:14px; box-shadow:0 2px 8px rgba(0,0,0,0.04); }
.rating-header { display:flex; justify-content:space-between; align-items:center; }
.rating-value { font-weight:600; color:#1f2937; }
.comment { color:#374151; margin:8px 0; }
.meta { font-size:12px; color:#6b7280; display:flex; gap:12px; }
.empty-state { text-align:center; color:#6b7280; padding:40px 0; }
.empty-state i { font-size:40px; margin-bottom:8px; color:#f59e0b; }
.btn { display:inline-block; background:#f3f4f6; padding:8px 12px; border-radius:8px; text-decoration:none; color:#374151; }
.btn:hover { background:#e5e7eb; }
</style>
{% endblock %}
