{% extends "base.html" %}
{% block content %}
<div class="page">
  <header class="app-header">
    <div class="header-inner">
      <h2><i class="fas fa-bell"></i> Notifications</h2>
      <div>
        <a class="btn" href="{{ url_for('dashboardrunner') if user.user_type == 'runner' else url_for('home_page') }}">
          Back
        </a>
      </div>
    </div>
  </header>

  <main class="container">
    {% if notifications and notifications|length > 0 %}
      <div class="notifications-list">
        {% for n in notifications %}
          <div class="notification-card {% if not n.is_read %}unread{% endif %}">
            <div class="notification-icon">
              <i class="fas fa-info-circle"></i>
            </div>
            <div class="notification-content">
              <h4>{{ n.title or "New Notification" }}</h4>
              <p>{{ n.message }}</p>
              <small>{{ n.created_at.strftime("%Y-%m-%d %H:%M") if n.created_at else "Recently" }}</small>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="empty-state">
        <i class="fas fa-bell-slash"></i>
        <h3>No notifications</h3>
        <p>You're all caught up!</p>
      </div>
    {% endif %}
  </main>
</div>

<style>
.app-header { background:#fff; border-bottom:1px solid #eee; padding:16px; }
.header-inner { display:flex; justify-content:space-between; align-items:center; }
.notifications-list { display:grid; gap:12px; padding: 15px; }
.notification-card { 
    background:#fff; 
    border:1px solid #eee; 
    border-radius:10px; 
    padding:15px; 
    display: flex;
    gap: 15px;
    box-shadow:0 2px 8px rgba(0,0,0,0.04); 
    transition: transform 0.2s;
}
.notification-card:hover { transform: translateY(-2px); }
.notification-card.unread { border-left: 4px solid #10b981; background: #f0fdf4; }
.notification-icon { 
    width: 40px; 
    height: 40px; 
    border-radius: 50%; 
    background: #f3f4f6; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    color: #6b7280;
    flex-shrink: 0;
}
.unread .notification-icon { background: #dcfce7; color: #10b981; }
.notification-content h4 { margin: 0 0 5px 0; color: #1f2937; }
.notification-content p { margin: 0 0 5px 0; color: #4b5563; font-size: 14px; }
.notification-content small { color: #9ca3af; font-size: 12px; }
.empty-state { text-align:center; color:#6b7280; padding:60px 20px; }
.empty-state i { font-size:48px; margin-bottom:15px; color:#d1d5db; }
.btn { display:inline-block; background:#f3f4f6; padding:8px 12px; border-radius:8px; text-decoration:none; color:#374151; }
.btn:hover { background:#e5e7eb; }
</style>
{% endblock %}
